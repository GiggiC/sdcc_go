<label for="message">Message</label><input id="message" type="text" />
<label for="topic">Topic</label><input id="topic" type="text" />
<button onclick="send()">Send</button>
<pre id="output"></pre>

<script>

    var message = document.getElementById("message");
    var topic = document.getElementById("topic");
    var output = document.getElementById("output");
    var socket = new WebSocket("ws://localhost:8080/echo");

    socket.onopen = function () {
        output.innerHTML += "Status: Connected\n";
    };

    socket.onmessage = function (e) {
        output.innerHTML += "Server: " + e.data + "\n";
    };

    function send() {

        var data = JSON.stringify({ "Message": message.value, "Topic": topic.value });

        socket.send(data);
        message.value = "";
        topic.value = "";
    }

</script>